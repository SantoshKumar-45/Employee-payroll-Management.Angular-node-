<!-- first container show list -->
<div class="container mt-4 mb-4 container_1" *ngIf="attendenceList == true">
    <div class="table_header">
        <h4 class="header">Attendence</h4>
        <button mat-raised-button color="primary" class="add-button" (click)="addEmpsSalary()"><i
                class="material-icons">&#xE147;</i>
            <span>Attendence</span></button>
    </div>
    <hr>
    <div class="row mt-2">
        <div class="col-2">
            <ul class="attendance-list">
                <ng-container *ngFor="let t of Title; let i = index;">
                    <li class="list" (click)="getAttendanceByDate(t.title)">
                        <span>{{t.title}}</span>
                    </li>
                </ng-container>
            </ul>
        </div>
    </div>
</div>

<!-- second container attendance table  -->
<div class="container mt-4" *ngIf="attendenceTable == true">
    <div class="table_header">
        <h4 class="header">Attendence</h4>
        <button mat-raised-button color="primary" class="add-button" (click)="backbtn()"><i class="material-icons"
                style="border-right: 0;">arrow_back</i>
            <span>Back</span></button>
    </div>

    <div class="table-wrapper">
        <div class="table-title">
            <div class="year-input  px-2">
                <label for="year">Year:</label>
                <mat-form-field class="Ydropdown">
                    <select #year (change)="onSelectedYear(year)" matNativeControl required>
                        <option *ngFor="let year of years" [value]="year">{{ year }}</option>
                    </select>
                  </mat-form-field>      
            </div>
            <div class="month-input  px-2">
                <label for="month">Month:</label>
                <mat-form-field class="Mdropdown">
                    <select #month (change)="onSelected(month)" matNativeControl required>
                        <option value="" selected disabled>{{backMonth}}</option>
                        <option *ngFor="let month of months" [value]="month.value">{{ month.name }}</option>
                    </select>
                  </mat-form-field> 
            </div>
            <div class="day-input">
                <label for="month">Working Days:</label>
                <input type="text" placeholder="WD" class="form-control sqBox" [(ngModel)]="workingDays"
                    name="workingDays" (input)="calculateWD(workingDays)" [readonly]="read_status">
            </div>
        </div>

        <table class="table table-hover table-responsive-sm">
            <thead class="table-striped">
                <tr class="thead">
                    <th>SNO</th>
                    <th>NAME</th>
                    <th>WD</th>
                    <th>PL</th>
                    <th>SL</th>
                    <th>SP</th>
                    <th>LWP</th>
                    <th>PRESENT</th>
                    <th>SALARY</th>
                    <th>TDS</th>
                    <th>PF</th>
                    <th>NETSALARY</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let emp of Employees; let i = index">
                    <td>{{i + 1}}</td>
                    <td>{{emp.first_name}} {{emp.last_name}}</td>
                    <td>
                        <input type="text" class="form-control sqBox" (input)="calculate(emp)" [(ngModel)]="emp.wd"
                            name="emp.wd" [readonly]="read_status">
                    </td>
                    <td>
                        <input type="text" class="form-control sqBox" (input)="calculate(emp)" [(ngModel)]="emp.pl"
                            name="pl" [readonly]="read_status">
                    </td>
                    <td>
                        <input type="text" class="form-control sqBox" (input)="calculate(emp)" [(ngModel)]="emp.sl"
                            name="sl" [readonly]="read_status">
                    </td>
                    <td>
                        <input type="text" class="form-control sqBox" (input)="calculate(emp)" [(ngModel)]="emp.spl"
                            name="sp" [readonly]="read_status">
                    </td>
                    <td>
                        <input type="text" class="form-control sqBox" (input)="calculate(emp)" [(ngModel)]="emp.lwp"
                            name="lwp" [readonly]="read_status">
                    </td>
                    <td>
                        <input type="text" class="form-control pdBox" [(ngModel)]="emp.present" name="present" readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="emp.salary" name="salary" readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="emp.TDS" name="TDS" readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="emp.PF" name="PF" readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="emp.net_salary" name="net_salary"
                            readonly>
                    </td>
                </tr>

                <tr>
                    <td colspan="8">
                        <strong>Total Amount</strong>
                    </td>
                    <td colspan="1">
                        <input type="text" class="form-control recBox" [(ngModel)]="total_salary" name="total_salary"
                            readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="total_TDS" name="total_TDS"
                            readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="total_PF" name="total_PF" readonly>
                    </td>
                    <td>
                        <input type="text" class="form-control recBox" [(ngModel)]="total_net_salary"
                            name="total_net_salary" readonly>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>
    <div class="row">
        <!-- save button  and cancel-->
        <div class="row mt-2 mb-2">
            <div class="" style="text-align:center;">
                <button class="btn btn-default" (click)="attendanceAndsalarySave()" [disabled]="btn_disabled"> Save
                </button>
            </div>
        </div>
    </div>
</div>